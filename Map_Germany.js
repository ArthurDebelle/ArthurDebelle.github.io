// Initialize the map and set its view to the center of Germany
var map = L.map('map_germany_CROP-MATE').setView([51.1657, 10.4515], 6); // Germany's center with zoom level 6

// Add OpenStreetMap tiles to the map
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);

// Define the coordinates for the polygon around Bavaria
var bavariaCoordinates = [
    [47.66305552798364, 12.766715376099194],
    [47.47559578540252, 13.009196558229617],
    [48.12034107452676, 12.759979788139054],
    [48.58742487368135, 13.788891425212839],
    [50.38718127079562, 11.964714309757543],
    [50.53525273796473, 10.181467120936302],
    [50.03987672990113, 9.001250384187044],
    [49.589622910118244, 9.096012312282609],
    [49.73365224988176, 9.707186870968036],
    [48.93507758752413, 10.433068532075618],
    [48.4309428072249, 10.074841216959307],
    [47.64939131212717, 10.10312232078428],
    [47.57622442880113, 9.608235704557346],
    [47.27592380338732, 10.18793741660399],
    [47.561494314822625, 10.450290497255521],
    [47.41746070667839, 10.97762109510855],
    [47.41657941553193, 11.006807969701521],
    [47.69676614048624, 12.232415153211315]
];
var AnsbachCoordinates = [
    [10.4556809, 49.2841992],
[10.4557426, 49.2841528],
[10.4575126, 49.2827368],
[10.4601064, 49.2803322],
[10.461306, 49.2791903],
[10.4615445, 49.2789484],
[10.4621687, 49.2782618],
[10.4622284, 49.2781963],
[10.4623137, 49.2781114],
[10.4629003, 49.2783163],
[10.4629221, 49.2783226],
[10.4636893, 49.2787444],
[10.4638318, 49.2788301],
[10.4638371, 49.2788092],
[10.4639225, 49.2786674],
[10.4642111, 49.2782593],
[10.4643075, 49.2781473],
[10.4644804, 49.2779688],
[10.4640031, 49.2776975],
[10.4636272, 49.2774734],
[10.4634788, 49.2773796],
[10.4633337, 49.2772845],
[10.463112, 49.2771215],
[10.4629096, 49.2769377],
[10.4627087, 49.2767107],
[10.4625901, 49.2765855],
[10.462802, 49.2764892],
[10.4628933, 49.2764432],
[10.4632468, 49.276278],
[10.4634634, 49.2761682],
[10.463772, 49.2760482],
[10.4640577, 49.2759688],
[10.4643589, 49.2758859],
[10.4648089, 49.2757661],
[10.4652524, 49.2756404],
[10.466206, 49.2759959],
[10.4667568, 49.2763954],
[10.467504, 49.276487],
[10.4679221, 49.2767238],
[10.4682123, 49.2770323],
[10.4683491, 49.2772994],
[10.4687219, 49.2774999],
[10.4691136, 49.2773613],
[10.4691898, 49.2767245],
[10.4692106, 49.2759051],
[10.4700134, 49.2759578],
[10.4700683, 49.2762465],
[10.4706058, 49.2763339],
[10.4708263, 49.2755844],
[10.4709177, 49.2752601],
[10.4718056, 49.2753833],
[10.4718513, 49.275249],
[10.4721309, 49.2744828],
[10.4734917, 49.2746604],
[10.4743275, 49.2748693],
[10.4746538, 49.2749826],
[10.4748872, 49.2750638],
[10.4738763, 49.2753145],
[10.4750061, 49.2761649],
[10.4746964, 49.2764067],
[10.4743368, 49.2766493],
[10.47407, 49.2768199],
[10.4736613, 49.2770573],
[10.4734341, 49.2771654],
[10.4732683, 49.2772445],
[10.4732316, 49.2772742],
[10.4732076, 49.2773095],
[10.4731985, 49.2773475],
[10.4732191, 49.2774765],
[10.4732459, 49.277584],
[10.4732411, 49.2776258],
[10.4733925, 49.2776865],
[10.4734302, 49.2776964],
[10.4734561, 49.2776984],
[10.4734709, 49.2776996],
[10.473511, 49.2776957],
[10.4736393, 49.2776596],
[10.4739281, 49.2776543],
[10.4740626, 49.2778983],
[10.4741424, 49.2780835],
[10.4738127, 49.2782502],
[10.4736299, 49.2784538],
[10.4737807, 49.2787042],
[10.4739744, 49.2790147],
[10.4740046, 49.2790843],
[10.4740523, 49.2792344],
[10.4741194, 49.2793776],
[10.4742102, 49.2794909],
[10.4742833, 49.2795672],
[10.4743305, 49.2796328],
[10.4743905, 49.2797162],
[10.4746567, 49.2798648],
[10.4748021, 49.2799459],
[10.4751844, 49.2800947],
[10.475558, 49.2801605],
[10.4759303, 49.2799202],
[10.4761131, 49.2795867],
[10.4762128, 49.2793889],
[10.4763747, 49.2790682],
[10.476454, 49.2786508],
[10.4765904, 49.2783295],
[10.4768117, 49.2783629],
[10.4773474, 49.2784439],
[10.4783797, 49.2785065],
[10.4783925, 49.2784817],
[10.4786412, 49.2780064],
[10.4786623, 49.2779811],
[10.479135, 49.2774135],
[10.4795881, 49.277436],
[10.4803361, 49.277473],
[10.4807177, 49.277737],
[10.48083, 49.2777725],
[10.4818891, 49.2764915],
[10.4816656, 49.2763994],
[10.4818268, 49.2762947],
[10.4819128, 49.2762388],
[10.4819618, 49.2762135],
[10.4829156, 49.2748093],
[10.4829691, 49.2747109],
[10.4831222, 49.2744289],
[10.4823357, 49.2740504],
[10.481942, 49.2740654],
[10.4819875, 49.2744034],
[10.480517, 49.2743046],
[10.4804567, 49.2743006],
[10.4805242, 49.273935],
[10.4806138, 49.2739404],
[10.4808052, 49.273952],
[10.4809684, 49.273962],
[10.4812572, 49.2736942],
[10.4813514, 49.2736376],
[10.4811478, 49.2736193],
[10.4793922, 49.2734927],
[10.4784974, 49.2734391],
[10.4779226, 49.2734046],
[10.4777509, 49.2734048],
[10.4775984, 49.2734065],
[10.4774257, 49.2733981],
[10.477031, 49.2733729],
[10.4768981, 49.2732685],
[10.476584, 49.2730188],
[10.476163, 49.2727029],
[10.4761334, 49.2726613],
[10.4760471, 49.2725881],
[10.475987, 49.2725179],
[10.4759444, 49.272422],
[10.4758775, 49.2722633],
[10.4757652, 49.2720641],
[10.4756312, 49.2717296],
[10.475515, 49.2716604],
[10.4753175, 49.2715429],
[10.4749223, 49.2715139],
[10.4744959, 49.2714255],
[10.47405, 49.2711562],
[10.4739488, 49.2710067],
[10.4738181, 49.270814],
[10.4733577, 49.2706199],
[10.4730069, 49.2702569],
[10.4726986, 49.2698469],
[10.4722873, 49.2695467],
[10.4729023, 49.2696513],
[10.4730534, 49.2696697],
[10.4731424, 49.2696789],
[10.4732194, 49.2689682],
[10.4735976, 49.2688113],
[10.4735782, 49.2686045],
[10.473567, 49.2683942],
[10.4732894, 49.2682928],
[10.473635, 49.2676721],
[10.4736729, 49.2676056],
[10.473859, 49.2672785],
[10.4716615, 49.2669964],
[10.472502, 49.2656121],
[10.4725669, 49.2655091],
[10.4726445, 49.2654902],
[10.4726803, 49.2654867],
[10.4728096, 49.2654918],
[10.4728445, 49.2654984],
[10.4730713, 49.2655804],
[10.4732087, 49.2655943],
[10.4732452, 49.2656042],
[10.4732765, 49.2656196],
[10.4734214, 49.2657354],
[10.473975, 49.2659287],
[10.4742654, 49.2660791],
[10.474558, 49.2662715],
[10.4749513, 49.266462],
[10.4753081, 49.2664924],
[10.4753427, 49.2665008],
[10.4755052, 49.266571],
[10.4756887, 49.2665921],
[10.4757225, 49.2666005],
[10.4757532, 49.2666134],
[10.4758863, 49.2666961],
[10.4760462, 49.2667165],
[10.4761595, 49.2667126],
[10.476197, 49.2667166],
[10.476233, 49.2667259],
[10.476449, 49.2668192],
[10.4768767, 49.2668796],
[10.4771792, 49.2669743],
[10.4778884, 49.2671648],
[10.4785788, 49.2672769],
[10.478605, 49.2672852],
[10.4788369, 49.2674125],
[10.4789294, 49.2674407],
[10.4791103, 49.2674491],
[10.4798627, 49.2673447],
[10.4798892, 49.2673443],
[10.4799549, 49.2673082],
[10.4799885, 49.2672974],
[10.4806953, 49.2671798],
[10.4809916, 49.2671104],
[10.4808266, 49.266861],
[10.4814072, 49.2668782],
[10.4816212, 49.2668845],
[10.4820924, 49.2671813],
[10.4822548, 49.2672674],
[10.4822602, 49.2672263],
[10.4822549, 49.2670549],
[10.4822588, 49.2669561],
[10.4825177, 49.2669256],
[10.4829252, 49.2668808],
[10.4836352, 49.2668515],
[10.4838088, 49.2668443],
[10.4839231, 49.2671649],
[10.4846023, 49.2667679],
[10.4847521, 49.2669588],
[10.4848501, 49.2670516],
[10.4851684, 49.2671953],
[10.4854546, 49.2672332],
[10.4856389, 49.2672316],
[10.4858677, 49.2674975],
[10.4865085, 49.2680456],
[10.4872654, 49.2680959],
[10.4872379, 49.2678258],
[10.4868454, 49.2677669],
[10.4868259, 49.2676401],
[10.4868164, 49.2675777],
[10.4881848, 49.2673887],
[10.489538, 49.2671786],
[10.4900056, 49.267092],
[10.490386, 49.2671012],
[10.4910746, 49.2671392],
[10.4914619, 49.2671825],
[10.4918517, 49.2672264],
[10.4921938, 49.2667696],
[10.4923019, 49.2664121],
[10.4923442, 49.266101],
[10.4923579, 49.2659997],
[10.4925113, 49.2657337],
[10.4926883, 49.2658936],
[10.4929894, 49.266021],
[10.493273, 49.2661233],
[10.4936011, 49.2661683],
[10.4940624, 49.2661644],
[10.4943914, 49.266174],
[10.4945631, 49.2663246],
[10.4947614, 49.2665599],
[10.4950021, 49.2668202],
[10.4951515, 49.2668719],
[10.495189, 49.2668725],
[10.4953275, 49.2668305],
[10.495469, 49.2667629],
[10.496147, 49.2664231],
[10.4965169, 49.2662288],
[10.4966314, 49.2661589],
[10.4972133, 49.2657291],
[10.4974521, 49.2655987],
[10.4977054, 49.2654695],
[10.4979822, 49.2653622],
[10.4981579, 49.265305],
[10.4983684, 49.2652656],
[10.4987518, 49.2652464],
[10.4988612, 49.2652438],
[10.498995, 49.2652424],
[10.4991603, 49.2652669],
[10.4993487, 49.2653186],
[10.4995378, 49.2653761],
[10.499564, 49.2653898],
[10.4995839, 49.2654064],
[10.4997151, 49.2655154],
[10.4998711, 49.2656804],
[10.5000713, 49.2659307],
[10.5002247, 49.2660635],
[10.5004917, 49.2661369],
[10.5008918, 49.2659857],
[10.5011692, 49.2658442],
[10.5015317, 49.2656421],
[10.5017177, 49.2655013],
[10.5019406, 49.2653324],
[10.5022314, 49.2651267],
[10.5025459, 49.2649597],
[10.5029247, 49.2648218],
[10.5038016, 49.2646485],
[10.5039488, 49.2646112],
[10.5040073, 49.2646018],
[10.5042749, 49.264559],
[10.5045568, 49.2645093],
[10.5044759, 49.2643387],
[10.5043879, 49.2641523],
[10.5044079, 49.2641506],
[10.5046964, 49.2640688],
[10.5047677, 49.2640388],
[10.5048116, 49.2640006],
[10.5048173, 49.2639823],
[10.5047557, 49.2630024],
[10.5047541, 49.262855],
[10.5047508, 49.262707],
[10.505036, 49.2627342],
[10.5064866, 49.2628817],
[10.5068077, 49.2619464],
[10.5068361, 49.2618636],
[10.5068578, 49.2618004],
[10.5068795, 49.2617374],
[10.5069664, 49.2614841],
[10.5069591, 49.2614772],
[10.5069073, 49.2614485],
[10.5068124, 49.2613736],
[10.5066916, 49.2612395],
[10.5066001, 49.2611255],
[10.5065419, 49.2610269],
[10.5064849, 49.2609015],
[10.5064369, 49.2607627],
[10.5064121, 49.2606045],
[10.5063998, 49.2604733],
[10.5063661, 49.2603585],
[10.5062473, 49.2602009],
[10.5061178, 49.2600893],
[10.5059739, 49.259922],
[10.5060172, 49.2598333],
[10.5064194, 49.2590084],
[10.5064399, 49.2589826],
[10.5064504, 49.2589738],
[10.5064819, 49.258956],
[10.5066313, 49.2588865],
[10.5067639, 49.2589463],
[10.5070399, 49.2590735],
[10.5072467, 49.2591801],
[10.507737, 49.2591028],
[10.5093563, 49.2589294],
[10.5101608, 49.2587588],
[10.5106145, 49.2586241],
[10.5107672, 49.2585867],
[10.5109837, 49.2585058],
[10.5112926, 49.2583271],
[10.5117005, 49.258202],
[10.5122618, 49.2581819],
[10.5124409, 49.2581566],
[10.5126832, 49.258144],
[10.5131318, 49.2580215],
[10.5133575, 49.2580188],
[10.5136054, 49.2580993],
[10.5137735, 49.2581032],
[10.5147253, 49.2580288],
[10.515903, 49.2578587],
[10.5165333, 49.2577182],
[10.5165544, 49.2577062],
[10.5165754, 49.2576941],
[10.5168211, 49.2575537],
[10.5170065, 49.2576504],
[10.5170904, 49.2576546],
[10.517553, 49.2573755],
[10.5176548, 49.2573352],
[10.5179868, 49.2572621],
[10.5181773, 49.257168],
[10.5182512, 49.2571078],
[10.5182718, 49.2570757],
[10.5182637, 49.2571607],
[10.5182303, 49.2574558],
[10.5182375, 49.2578028],
[10.5182298, 49.2579065],
[10.5182911, 49.2579073],
[10.5184272, 49.2578236],
[10.519018, 49.2575269],
[10.5194127, 49.2575964],
[10.5199152, 49.257635],
[10.5201709, 49.2577556],
[10.5203085, 49.2578482],
[10.5204331, 49.2580285],
[10.5204788, 49.2580946],
[10.5202271, 49.2584044],
[10.5201137, 49.258704],
[10.5200873, 49.2589528],
[10.5201493, 49.259244],
[10.5198678, 49.2592576],
[10.5196972, 49.2592978],
[10.5193428, 49.2593943],
[10.5191688, 49.2594415],
[10.5193754, 49.2594801],
[10.519547, 49.259512],
[10.5197852, 49.2595493],
[10.5200857, 49.2596303],
[10.5207637, 49.2597357],
[10.5210227, 49.2597588],
[10.5209925, 49.2598808],
[10.5209645, 49.2599934],
[10.5210734, 49.260075],
[10.5211618, 49.2601689],
[10.5213401, 49.2601439],
[10.5215596, 49.2601188],
[10.5217706, 49.2601579],
[10.521891, 49.2601598],
[10.5218992, 49.2602061],
[10.5218995, 49.2602622],
[10.5218998, 49.2603638],
[10.5218432, 49.2607391],
[10.5213829, 49.2610489],
[10.5211565, 49.2612982],
[10.5209349, 49.2617581],
[10.5211873, 49.2620087],
[10.5212393, 49.2622007],
[10.521211, 49.2623519],
[10.5211598, 49.262443],
[10.5211278, 49.2625168],
[10.5213099, 49.2625326],
[10.5213911, 49.2625352],
[10.521717, 49.2625459],
[10.5221722, 49.262549],
[10.5224039, 49.2625519],
[10.5224853, 49.2625489],
[10.5225807, 49.2623748],
[10.5226097, 49.2623414],
[10.522732, 49.2621998],
[10.5228037, 49.2621256],
[10.5229106, 49.2619989],
[10.5229295, 49.2619764],
[10.5229851, 49.2618958],
[10.5230425, 49.2617791],
[10.5230641, 49.2617075],
[10.5230764, 49.2616321],
[10.5230834, 49.2614862],
[10.523094, 49.2608405],
[10.5233513, 49.2608506],
[10.5237471, 49.2608642],
[10.5249321, 49.2608734],
[10.5250587, 49.2608788],
[10.5250999, 49.2609392],
[10.5251183, 49.2609534],
[10.5252535, 49.2610126],
[10.5254089, 49.2610777],
[10.525511, 49.2610605],
[10.5258377, 49.2610188],
[10.5260788, 49.2609851],
[10.5261806, 49.2610183],
[10.5262869, 49.2610657],
[10.5263062, 49.2610782],
[10.5263885, 49.2611588],
[10.5265943, 49.2614144],
[10.5269766, 49.2617399],
[10.5271301, 49.2618637],
[10.5272254, 49.2619162],
[10.527285, 49.2619657],
[10.5273025, 49.2619898],
[10.5276397, 49.2619847],
[10.527854, 49.2619758],
[10.5281643, 49.261963],
[10.5286586, 49.2621604],
[10.5291589, 49.2623603],
[10.5305367, 49.2627502],
[10.531066, 49.2629293],
[10.530973, 49.2631627],
[10.5310174, 49.2632047],
[10.5323417, 49.262973],
[10.5335841, 49.2627691],
[10.534361, 49.2626406],
[10.5366727, 49.2619863],
[10.5389426, 49.2614022],
[10.541985, 49.2605363],
[10.5420591, 49.2595824],
[10.5420824, 49.2594371],
[10.5421529, 49.2594454],
[10.5422545, 49.2594464],
[10.5424338, 49.259429],
[10.5444308, 49.2590999],
[10.5460311, 49.2587377],
[10.5461179, 49.2586996],
[10.5462701, 49.2586469],
[10.5466285, 49.2586701],
[10.5471112, 49.2587119],
[10.5473581, 49.2586599],
[10.5475146, 49.2586067],
[10.54775, 49.2585282],
[10.5480726, 49.2584205],
[10.5483885, 49.2583475],
[10.548437, 49.2583303],
[10.5486037, 49.2583193],
[10.5487931, 49.258307],
[10.5491094, 49.2585288],
[10.5496134, 49.2588147],
[10.5499066, 49.2589166],
[10.5501682, 49.2590072],
[10.5502942, 49.2590507],
[10.5504226, 49.2590955],
[10.5505437, 49.2591392],
[10.5510074, 49.2592172],
[10.5518104, 49.2593451],
[10.5529393, 49.2593383],
[10.5539048, 49.2592303],
[10.5548611, 49.2588035],
[10.554883, 49.2587937],
[10.5553104, 49.2584625],
[10.5554067, 49.2583885],
[10.5554993, 49.258316],
[10.5556436, 49.2582033],
[10.5557182, 49.2580397],
[10.5558787, 49.2576882],
[10.5559005, 49.2571771],
[10.5559215, 49.2570648],
[10.5559695, 49.2568088],
[10.5560962, 49.2568049],
[10.557193, 49.2562564],
[10.5576361, 49.2560737],
[10.5580456, 49.2559179],
[10.5582796, 49.2558513],
[10.5584665, 49.2558185],
[10.5587199, 49.2558287],
[10.5591021, 49.2558172],
[10.5593081, 49.2558073],
[10.5596188, 49.255803],
[10.5598596, 49.2557781],
[10.5600481, 49.2557368],
[10.5602873, 49.2556867],
[10.5603164, 49.2556745],
[10.560311, 49.2556225],
[10.5602687, 49.2555225],
[10.559796, 49.2543374],
[10.559453, 49.2538068],
[10.5598524, 49.2537035],
[10.5600421, 49.2536544],
[10.5601172, 49.2536609],
[10.560444, 49.2538768],
[10.5607736, 49.254028],
[10.5610356, 49.2540171],
[10.5610039, 49.2538011],
[10.5608777, 49.2534972],
[10.5607585, 49.2532265],
[10.560727, 49.2531547],
[10.5607132, 49.2529434],
[10.5607681, 49.2524275],
[10.5609002, 49.2519137],
[10.5609472, 49.2519119],
[10.5610878, 49.2518907],
[10.5618791, 49.251837],
[10.5623266, 49.2518706],
[10.5627789, 49.2518982],
[10.5631716, 49.2519151],
[10.5633308, 49.2519155],
[10.5635802, 49.251916],
[10.563786, 49.2519339],
[10.5641808, 49.2519616],
[10.5647238, 49.252016],
[10.565488, 49.2520999],
[10.5658485, 49.2521331],
[10.5660792, 49.2521453],
[10.566618, 49.25216],
[10.5666863, 49.2521645],
[10.5668954, 49.2524761],
[10.5671009, 49.2527829],
[10.5671645, 49.2527676],
[10.5675131, 49.2526815],
[10.5677039, 49.2526528],
[10.5680273, 49.2526038],
[10.5683382, 49.2525557],
[10.5693085, 49.2524742],
[10.5693962, 49.2524669],
[10.5701426, 49.2523232],
[10.5704472, 49.2522644],
[10.5711479, 49.2521669],
[10.5712566, 49.2521518],
[10.572058, 49.2519116],
[10.5724326, 49.2518801],
[10.5740575, 49.2516911],
[10.5741967, 49.2516549],
[10.5753948, 49.2513437],
[10.5756863, 49.2512878],
[10.5759801, 49.2511891],
[10.5762931, 49.251084],
[10.5771, 49.2508895],
[10.5779518, 49.2508606],
[10.5783861, 49.2509027],
[10.579006, 49.2506466],
[10.579554, 49.2504289],
[10.5796873, 49.2503587],
[10.580052, 49.2502485],
[10.5802651, 49.250124],
[10.5804839, 49.2499673],
[10.580698, 49.2497581],
[10.5808502, 49.2495099],
[10.5809693, 49.2493359],
[10.5811405, 49.249202],
[10.5813432, 49.249068],
[10.5815643, 49.2489589],
[10.5817534, 49.2488982],
[10.5817675, 49.2487887],
[10.5817807, 49.2486856],
[10.5819386, 49.2482777],
[10.5819915, 49.2480744],
[10.582053, 49.2478371],
[10.5821221, 49.2473541],
[10.5828637, 49.2472096],
[10.5826584, 49.2470212],
[10.5820306, 49.2464625],
[10.581825, 49.2462794],
[10.5815348, 49.2460813],
[10.5809708, 49.2456959],
[10.4556809, 49.2841992]
];

// Add the polygon to the map
var polygon = L.polygon(bavariaCoordinates, {
    color: 'blue',       // Border color
    fillColor: 'lightblue', // Fill color
    fillOpacity: 0.5     // Opacity of the fill
}).addTo(map);

// Add a popup to the polygon
polygon.bindPopup("This is Ansbach, Germany.");

// Optional: Add a marker in Munich for reference
var marker = L.marker([48.137801961255896, 11.57511329742685]).addTo(map);
marker.bindPopup("Munich, Bavaria").openPopup();

// Handle map clicks to get coordinates
map.on('click', function(e) {
    // Get the clicked location coordinates
    var lat = e.latlng.lat.toFixed(5);
    var lng = e.latlng.lng.toFixed(5);

    // Update the right panel with the coordinates
    document.getElementById('coordinates').textContent = "Lat: " + lat + ", Lon: " + lng;
});


// python -> geometry avec geopandas, retrieve de ça





